name: Update TTK test cases tag
sources:
  latest:
    kind: github
    spec:
      owner: mojaloop
      repository: testing-toolkit-test-cases
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      username: '{{ requiredEnv "GITHUB_ACTOR" }}'
      branch: 'minor/infitx'
      type: tag
      versionfilter:
        kind: semver
        pattern: '>=20.3.0-infitx.0 <=20.3.0-infitx.999999'
    transformers:
      - trimprefix: v
targets:
  yaml:
    kind: yaml
    spec:
      engine: yamlpath
      file: mojaloop-vars.yaml
      key: $.ttk_testcases_tag
